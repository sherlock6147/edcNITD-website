{% extends 'sotm/sotm_base.html' %}
{% load static %}
{% block title %} Internships {% endblock %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/sotm_internships.css' %}">
<!-- FAQs -->
<section class="container internships">
    {% if companies %}
    <h2 class="internships-heading">Internships</h2>
    
    <center><ul class="filter">
        <li>
            <label id="internships-position" for="position-filter">Position Filter</label> <br>
            <select name="position-filter" id="position-filter">
                {% for position in positions %}
                <option value="{{position}}">{{position}}
                </option>
                {% endfor %}
                <option value="All">All</option>
            </select></li>
    </ul></center>
    
    <div class="opportunities">
        {% for position,opportunities in positions_dic.items %}
        {% if position == active_position %}
        <ul id="{{position}}_opportunities" class="active_position position_opp">
            <h2 class="internship-position">{{position}}</h2>
            {% for opportunity in opportunities %}

            <li class="available">
                <h3>{{opportunity.position}}</h3>
                <h4>at <span>{{opportunity.company}}</span></h4>
                <br>
                <a href="{% url 'sotm:view_opportunity' opportunity.id %}">View more</a>
            </li>
            <br>
            {% endfor %}
        </ul>
        {% else %}
        <ul id="{{position}}_opportunities" class="position_opp">
            <h2>{{position}}</h2>
            {% for opportunity in opportunities %}

            <li class="available">
                <h3>{{opportunity.position}}</h3>
                <h4>{{opportunity.company}}</h4>
                <a href="{% url 'sotm:view_opportunity' opportunity.id %}">View more</a>
            </li>
            <br>
            {% endfor %}
        </ul>
        {% endif %}
        {% endfor %}
    </div>
    {% endif%}
</section>
<!-- Footer -->

<script src="{% static 'js/sotm_home.js' %}"></script>
<script src="{% static 'js/internships.js' %}"></script>

<style>
    .position_opp {
        display: none;
    }

    .position_opp.active_position {
        display: block;
    }
</style>
{% endblock %}