{% extends 'sotm/sotm_base.html' %}
{% load static %}
{% block title %} Internships {% endblock %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/sotm_internships.css' %}">
<!-- FAQs -->
<section class="container internships">
    {% if companies %}
    <center>
    <h2 id="internship-header">{{active_pos}}</h2>
    </center>
    <br>
    <center><ul class="filter flex">
        <li>
            <label id="internships-position" for="position-filter">Internship Tags</label> <br>
            <select name="position-filter" id="position-filter">
                {% for position in positions %}
                <option value="{{position}}">{{position}}
                </option>
                {% endfor %}
                <option value="All">All</option>
            </select></li>
        <li>

            <label id="order-s" for="internships-order">Order By</label> <br>
            <select name="internships-order" id="internships-order">
                <option class="op-order" value="asc" selected>Recent first</option>
                <option class="op-order" value="dsc">Earliest First</option>
            </select></li>
        </li>
    </ul></center>
    
    <div class="opportunities">
        <br>
        
        {% for position,opportunities in positions_dic.items %}
        {% if position == active_position %}
        <ul id="{{position}}_opportunities" class="active_position position_opp">
            {% for opportunity in opportunities %}

            <li class="available">
                <h3>{{opportunity.name}}</h3>
                <h4>at <span>{{opportunity.company}}</span></h4>
                <br>
                <a href="{% url 'sotm:view_opportunity' opportunity.id %}">View more</a>
            </li>
            <br>
            {% endfor %}
        </ul>
        {% else %}
        <ul id="{{position}}_opportunities" class="position_opp">
            {% for opportunity in opportunities %}

            <li class="available">
                <h3>{{opportunity.name}}</h3>
                <h4>at <span>{{opportunity.company}}</span></h4>
                <br>
                <a href="{% url 'sotm:view_opportunity' opportunity.id %}">View more</a>
            </li>
            <br>
            {% endfor %}
        </ul>
        {% endif %}
        {% endfor %}
    </div>
    {% endif%}
</section>
<!-- Footer -->

<script src="{% static 'js/sotm_home.js' %}"></script>
<script src="{% static 'js/internships.js' %}"></script>

<style>
    .position_opp {
        display: none;
    }

    .position_opp.active_position {
        display: block;
    }
</style>
{% endblock %}